import{R as g,r as i,j as e,d as f}from"./index-CPTFzE6R.js";import{S as j,$ as v,a as N,b as y}from"./module-C5eIFbko.js";const S=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset"],w=[{id:1,content:"Hello! How are you?",isSent:!1,timestamp:"12:00 PM"},{id:2,content:"I'm good, thanks!",isSent:!0,timestamp:"12:01 PM"},{id:3,content:"Great to hear!",isSent:!1,timestamp:"12:02 PM"},{id:4,content:"ðŸ˜Š",isSent:!0,timestamp:"12:03 PM"},{id:5,content:"https://avatars.githubusercontent.com/u/124599?v=4",isSent:!1,timestamp:"12:04 PM"}],E=g.memo(({message:t,isNew:l})=>{const a=i.useRef(null);i.useEffect(()=>{l&&a.current&&(a.current.style.opacity="0",a.current.style.transform="translateY(20px)",setTimeout(()=>{a.current.style.transition="opacity 0.3s ease, transform 0.3s ease",a.current.style.opacity="1",a.current.style.transform="translateY(0)"},50))},[l]);const o=n=>new RegExp("^(\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F)$","u").test(n),c=n=>n.startsWith("http")||n.startsWith("https")&&(n.endsWith(".jpg")||n.endsWith(".png")||n.endsWith(".gif"));return e.jsx("div",{className:`flex ${t.isSent?"justify-end":"justify-start"} mb-4`,children:e.jsxs("div",{ref:a,className:`max-w-[80%] rounded-2xl p-3 shadow-md ${t.isSent?"bg-primary text-primary-content rounded-br-none":"bg-base-200 rounded-bl-none"} transition-all duration-300 ease-in-out`,children:[o(t.content)?e.jsx("p",{className:"text-6xl leading-snug",children:t.content}):c(t.content)?e.jsx("img",{src:t.content,alt:"Shared image",className:"w-[150px] h-[150px] rounded-lg "}):e.jsx("p",{className:"text-sm leading-snug",children:t.content}),e.jsx("p",{className:`text-right text-[10px] mt-1 ${t.isSent?"text-primary-content/70":"text-base-content/70"}`,children:t.timestamp})]})})}),k=()=>{const[t,l]=i.useState(!1),[a,o]=i.useState(""),[c,n]=i.useState(w),d=i.useRef(null),{theme:m,setTheme:x}=f(),h=i.useCallback(s=>{x(s),localStorage.setItem("chat-theme",s)},[x]),p=s=>{o(r=>r+s.native),l(!1)},u=()=>{if(a.trim()){const s={id:c.length+1,content:a,isSent:!0,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};n(r=>[...r,s]),o(""),setTimeout(()=>{var r;return(r=d.current)==null?void 0:r.scrollIntoView({behavior:"smooth"})},100)}},b=i.useMemo(()=>S.map(s=>e.jsxs("button",{"aria-label":`Select ${s} theme`,className:`group flex flex-col items-center gap-1.5 p-2 rounded-lg transition-colors ${m===s?"bg-base-200":"hover:bg-base-200/50"}`,onClick:()=>h(s),children:[e.jsx("div",{className:"relative h-8 w-full rounded-md overflow-hidden","data-theme":s,children:e.jsxs("div",{className:"absolute inset-0 grid grid-cols-4 gap-px p-1",children:[e.jsx("div",{className:"rounded bg-primary"}),e.jsx("div",{className:"rounded bg-secondary"}),e.jsx("div",{className:"rounded bg-accent"}),e.jsx("div",{className:"rounded bg-neutral"})]})}),e.jsx("span",{className:"text-[11px] font-medium truncate w-full text-center",children:s.charAt(0).toUpperCase()+s.slice(1)})]},s)),[m,h]);return e.jsx("div",{className:"min-h-screen container mx-auto px-4 pt-20 max-w-5xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Theme"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Choose a theme for your chat interface"})]}),e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2",children:b}),e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Preview"}),e.jsx("div",{className:"rounded-xl border border-base-300 overflow-hidden bg-base-100 shadow-lg",children:e.jsx("div",{className:"p-4 bg-base-200",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-base-100 rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-base-300 bg-base-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-content font-medium",children:"JD"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm",children:"John Doe"}),e.jsx("p",{className:"text-xs text-base-content/70",children:"Online"})]})]})}),e.jsxs("div",{className:"p-4 space-y-4 min-h-[400px] max-h-[400px] overflow-y-auto bg-base-100",children:[c.map((s,r)=>e.jsx(E,{message:s,isNew:r===c.length-1&&s.isSent},s.id)),e.jsx("div",{ref:d})]}),e.jsx("div",{className:"p-4 border-t border-base-300 bg-base-100",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"text",className:"input input-bordered flex-1 text-sm h-10",placeholder:"Type a message...",value:a,onChange:s=>o(s.target.value),onKeyPress:s=>{s.key==="Enter"&&u()}}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"btn btn-circle btn-ghost",onClick:()=>l(!t),children:e.jsx(j,{className:"w-5 h-5"})}),t&&e.jsx("div",{className:"absolute bottom-full right-0 mb-2",children:e.jsx(v,{data:N,onEmojiSelect:p,theme:"light",set:"apple"})})]}),e.jsxs("button",{className:"btn btn-secondary h-10 min-h-0",onClick:u,children:[e.jsx(y,{size:18})," Send"]})]})})]})})})})]})})};export{k as default};
